<ion-view class="blackbg">
    <!--    <ion-nav-buttons side="left">
            <button class="button-icon button-clear" ng-click=""><i class="icon white ion-clipboard"></i></button>
        </ion-nav-buttons>
        <ion-nav-buttons side="right">
            <button class="button-icon button-clear" onclick="window.location = '#/location'"><i class="icon white ion-ios7-person"></i></button>
        </ion-nav-buttons>-->

    <div class="bar bar-header navbar-color topRounded">
        <button class="button button-icon icon ion-clipboard white"></button>
        <h1 class="title white" ng-click="logout()">PoP</h1>
        <button class="button button-icon icon ion-ios7-person white" onclick="window.location = '#/ranking'"></button>
    </div>
    <ion-content padding="true" class="contentContainer">
        <div class="row btnHeight">
            <button class="col button button-clear" onclick="window.location = '#/addevent'">Add Event</button>
            <button class="col  button button-clear" onclick="window.location = '#/addfriend'">Add Friend</button>
        </div>

        <!--current event-->
        <div class="list" ng-if="currentEvent">
            <div class="item item-divider item-button-right">
                Current Event
                <button class="button button-icon icon ion-refresh" ng-click="refreshLocation()"></button>

            </div>
            <div class="item" type="item-text-wrap" ng-click="viewEvent('#/event/' + currentEvent.id)">

                <span class="item-note arrived">
                    {{countArrived(currentEvent.attendees)}}
                </span>
                <h2>{{currentEvent.title}}</h2>

                <span class="item-note totalMembers">
                    {{currentEvent.attendees.length}}
                </span>
                <div><p>{{currentEvent.venue}}</p></div>
                <div><p>{{convertDate(currentEvent.startTime)}}, {{convertTime(currentEvent.startTime)}} - {{convertTime(currentEvent.endTime)}}</p></div>                
            </div>
        </div>

        <!--upcoming event-->
        <div class="list">
            <div class="item item-divider">
                Upcoming Events
            </div>

            <!--<button class="col  button button-clear" onclick="window.location = '#/location'">Location</button>-->
<<<<<<< Updated upstream
            <div class="item" ng-repeat="event in eventsList" type="item-text-wrap" ng-click="viewEvent('#/event/' + event.id)">

                <span class="item-note arrived">
                    {{countArrived(event.attendees)}}
                </span>
=======
            <div class="item" ng-repeat="event in eventsList" type="item-text-wrap" ng-click="viewEvent('#/event/'+event.id)" ng-if="listReady">
                <span class="item-note arrived">
                                <!--{{countArrived(event.attendees)}}-->
                                {{countArrived()}}
                            </span>
>>>>>>> Stashed changes
                <h2>{{event.title}}</h2>

                <span class="item-note totalMembers">
                    {{event.attendees.length}}
                </span>
                <div><p>{{event.venue}}</p></div>
                <div><p>{{convertDate(event.startTime)}}, {{convertTime(event.startTime)}} - {{convertTime(event.endTime)}}</p></div>

            </div>

        </div>

    </ion-content>
</ion-view>